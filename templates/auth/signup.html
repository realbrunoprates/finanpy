{% extends 'base.html' %}

{% block title %}Cadastro - Finanpy{% endblock %}

{% block content %}
<div class='min-h-screen flex items-center justify-center px-4 py-12'>
    <div class='w-full max-w-md'>
        <!-- Logo/Brand -->
        <div class='text-center mb-8'>
            <h1 class='text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent mb-2'>
                Finanpy
            </h1>
            <p class='text-text-secondary text-sm'>
                Gestão Financeira Pessoal
            </p>
        </div>

        <!-- Signup Card -->
        <div class='bg-bg-secondary rounded-xl p-8 shadow-lg border border-bg-tertiary'>
            <!-- Title -->
            <h2 class='text-2xl font-bold text-text-primary mb-6'>
                Criar Conta
            </h2>

            <!-- Non-field Errors -->
            {% if form.non_field_errors %}
                <div class='bg-error/10 border border-error/20 rounded-lg p-4 mb-6'>
                    {% for error in form.non_field_errors %}
                        <p class='text-error font-medium text-sm'>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Signup Form -->
            <form method='post' novalidate>
                {% csrf_token %}

                <!-- Email Field -->
                <div class='mb-6'>
                    <label for='{{ form.email.id_for_label }}' class='block text-text-secondary text-sm font-medium mb-2'>
                        E-mail
                        <span class='text-error'>*</span>
                    </label>
                    <input
                        type='email'
                        id='{{ form.email.id_for_label }}'
                        name='{{ form.email.name }}'
                        value='{{ form.email.value|default:"" }}'
                        class='w-full px-4 py-3 bg-bg-primary border {% if form.email.errors %}border-error{% else %}border-bg-tertiary{% endif %} rounded-lg text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200'
                        placeholder='seu@email.com'
                        {% if form.email.field.required %}required{% endif %}
                    >
                    {% if form.email.help_text %}
                        <p class='text-text-muted text-xs mt-1'>{{ form.email.help_text }}</p>
                    {% endif %}
                    {% if form.email.errors %}
                        {% for error in form.email.errors %}
                            <p class='text-error text-sm mt-1 flex items-center gap-1'>
                                <svg class='w-4 h-4 flex-shrink-0' fill='currentColor' viewBox='0 0 20 20'>
                                    <path fill-rule='evenodd' d='M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z' clip-rule='evenodd'/>
                                </svg>
                                <span>{{ error }}</span>
                            </p>
                        {% endfor %}
                    {% endif %}
                </div>

                <!-- Password Field -->
                <div class='mb-6'>
                    <label for='{{ form.password1.id_for_label }}' class='block text-text-secondary text-sm font-medium mb-2'>
                        Senha
                        <span class='text-error'>*</span>
                    </label>
                    <input
                        type='password'
                        id='{{ form.password1.id_for_label }}'
                        name='{{ form.password1.name }}'
                        class='w-full px-4 py-3 bg-bg-primary border {% if form.password1.errors %}border-error{% else %}border-bg-tertiary{% endif %} rounded-lg text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200'
                        placeholder='Digite sua senha'
                        {% if form.password1.field.required %}required{% endif %}
                    >
                    {% if form.password1.help_text %}
                        <div class='text-text-muted text-xs mt-2 space-y-1'>
                            {{ form.password1.help_text|safe }}
                        </div>
                    {% endif %}
                    {% if form.password1.errors %}
                        {% for error in form.password1.errors %}
                            <p class='text-error text-sm mt-1 flex items-center gap-1'>
                                <svg class='w-4 h-4 flex-shrink-0' fill='currentColor' viewBox='0 0 20 20'>
                                    <path fill-rule='evenodd' d='M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z' clip-rule='evenodd'/>
                                </svg>
                                <span>{{ error }}</span>
                            </p>
                        {% endfor %}
                    {% endif %}
                </div>

                <!-- Password Confirmation Field -->
                <div class='mb-6'>
                    <label for='{{ form.password2.id_for_label }}' class='block text-text-secondary text-sm font-medium mb-2'>
                        Confirmar Senha
                        <span class='text-error'>*</span>
                    </label>
                    <input
                        type='password'
                        id='{{ form.password2.id_for_label }}'
                        name='{{ form.password2.name }}'
                        class='w-full px-4 py-3 bg-bg-primary border {% if form.password2.errors %}border-error{% else %}border-bg-tertiary{% endif %} rounded-lg text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200'
                        placeholder='Digite sua senha novamente'
                        {% if form.password2.field.required %}required{% endif %}
                    >
                    {% if form.password2.help_text %}
                        <p class='text-text-muted text-xs mt-1'>{{ form.password2.help_text }}</p>
                    {% endif %}
                    {% if form.password2.errors %}
                        {% for error in form.password2.errors %}
                            <p class='text-error text-sm mt-1 flex items-center gap-1'>
                                <svg class='w-4 h-4 flex-shrink-0' fill='currentColor' viewBox='0 0 20 20'>
                                    <path fill-rule='evenodd' d='M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z' clip-rule='evenodd'/>
                                </svg>
                                <span>{{ error }}</span>
                            </p>
                        {% endfor %}
                    {% endif %}
                </div>

                <!-- Submit Button -->
                <button
                    type='submit'
                    class='w-full px-6 py-3 bg-gradient-to-r from-primary-500 to-accent-500 text-white rounded-lg font-medium hover:from-primary-600 hover:to-accent-600 transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-bg-secondary'
                >
                    Criar Conta
                </button>
            </form>

            <!-- Login Link -->
            <div class='mt-6 text-center'>
                <p class='text-text-secondary text-sm'>
                    Já tem uma conta?
                    <a
                        href='{% url "users:login" %}'
                        class='text-primary-500 hover:text-primary-400 font-medium transition-colors duration-200'
                    >
                        Faça login
                    </a>
                </p>
            </div>
        </div>

        <!-- Additional Info -->
        <div class='mt-6 text-center'>
            <p class='text-text-muted text-xs'>
                Ao criar uma conta, você concorda com nossos
                <a href='#' class='text-primary-500 hover:text-primary-400 transition-colors duration-200'>Termos de Uso</a>
                e
                <a href='#' class='text-primary-500 hover:text-primary-400 transition-colors duration-200'>Política de Privacidade</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}
